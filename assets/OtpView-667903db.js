import{H as S,o as h,c as y,E as P,I as _,a as d,n as K,e as $,y as V,F as E,g as L,J as M,r as f,K as b,L as N,u as T,_ as R,d as C,h as H,B as W,p as q,f as G,G as U,s as B}from"./index-036f430c.js";import{A as z}from"./ArrowRight-60ed446e.js";var k=S({name:"SingleOtpInput",props:{inputType:{type:String,validator:e=>["number","tel","letter-numeric","password"].includes(e),default:"tel"},inputmode:{type:String,default:"numeric"},value:{type:[String,Number]},separator:{type:String},focus:{type:Boolean},inputClasses:{type:[String,Array]},conditionalClass:{type:String},shouldAutoFocus:{type:Boolean},isLastChild:{type:Boolean},placeholder:{type:String},isDisabled:{type:Boolean}},emits:["on-change","on-keydown","on-paste","on-focus","on-blur"],setup(e,s){let{emit:o}=s;const t=f(e.value||""),n=f(null),i=()=>(t.value=t.value.toString(),t.value.length>1&&(t.value=t.value.slice(0,1)),o("on-change",t.value)),r=a=>a>=65&&a<=90,v=a=>a>=48&&a<=57||a>=96&&a<=105,u=a=>{e.isDisabled&&a.preventDefault();const p=a||window.event,I=p.which?p.which:p.keyCode;v(I)||e.inputType==="letter-numeric"&&r(I)||[8,9,13,37,39,46,86].includes(I)?o("on-keydown",a):p.preventDefault()},m=a=>o("on-paste",a),g=()=>(n.value.select(),o("on-focus")),O=()=>o("on-blur");return b(()=>e.value,(a,p)=>{a!==p&&(t.value=a)}),b(()=>e.focus,(a,p)=>{p!==a&&n.value&&e.focus&&(n.value.focus(),n.value.select())}),N(()=>{n.value&&e.focus&&e.shouldAutoFocus&&(n.value.focus(),n.value.select())}),{handleOnChange:i,handleOnKeyDown:u,handleOnPaste:m,handleOnFocus:g,handleOnBlur:O,input:n,model:t,inputTypeValue:e.inputType==="letter-numeric"?"text":e.inputType}}});const J={style:{display:"flex","align-items":"center"}},Q=["type","inputmode","placeholder","disabled"],X={key:0},Y=["innerHTML"];function Z(e,s,o,t,n,i){return h(),y("div",J,[P(d("input",{"data-test":"single-input",type:e.inputTypeValue,inputmode:e.inputmode,placeholder:e.placeholder,disabled:e.isDisabled,ref:"input",min:"0",max:"9",maxlength:"1",pattern:"[0-9]","onUpdate:modelValue":s[0]||(s[0]=r=>e.model=r),class:K([e.inputClasses,e.conditionalClass,{"is-complete":e.model}]),onInput:s[1]||(s[1]=function(){return e.handleOnChange&&e.handleOnChange(...arguments)}),onKeydown:s[2]||(s[2]=function(){return e.handleOnKeyDown&&e.handleOnKeyDown(...arguments)}),onPaste:s[3]||(s[3]=function(){return e.handleOnPaste&&e.handleOnPaste(...arguments)}),onFocus:s[4]||(s[4]=function(){return e.handleOnFocus&&e.handleOnFocus(...arguments)}),onBlur:s[5]||(s[5]=function(){return e.handleOnBlur&&e.handleOnBlur(...arguments)})},null,42,Q),[[_,e.model]]),!e.isLastChild&&e.separator?(h(),y("span",X,[d("span",{innerHTML:e.separator},null,8,Y)])):$("",!0)])}k.render=Z;const x=8,ee=37,ne=39,te=46;var F=S({name:"Vue3OtpInput",components:{SingleOtpInput:k},props:{value:{type:String,default:"",required:!0},numInputs:{default:4},separator:{type:String,default:"**"},inputClasses:{type:[String,Array]},conditionalClass:{type:Array,default:[]},inputType:{type:String,validator:e=>["number","tel","letter-numeric","password"].includes(e)},inputmode:{type:String,validator:e=>["numeric","text","tel","none"].includes(e),default:"numeric"},shouldAutoFocus:{type:Boolean,default:!1},placeholder:{type:Array,default:[]},isDisabled:{type:Boolean,default:!1}},setup(e,s){let{emit:o}=s;const t=f(0),n=f([]),i=f([]);b(()=>e.value,l=>{const c=T(l).split("");n.value=c},{immediate:!0});const r=l=>{t.value=l},v=()=>{t.value=-1},u=()=>n.value.join("").length===e.numInputs?(o("update:value",n.value.join("")),o("on-complete",n.value.join(""))):"Wait until the user enters the required number of characters",m=l=>{t.value=Math.max(Math.min(e.numInputs-1,l),0)},g=()=>{m(t.value+1)},O=()=>{m(t.value-1)},a=l=>{i.value=Object.assign([],n.value),n.value[t.value]=l,i.value.join("")!==n.value.join("")&&(o("update:value",n.value.join("")),o("on-change",n.value.join("")),u())};return{activeInput:t,otp:n,oldOtp:i,clearInput:()=>{n.value.length>0&&(o("update:value",""),o("on-change","")),n.value=[],t.value=0},handleOnPaste:l=>{l.preventDefault();const c=l.clipboardData.getData("text/plain").slice(0,e.numInputs-t.value).split("");if(e.inputType==="number"&&!c.join("").match(/^\d+$/)||e.inputType==="letter-numeric"&&!c.join("").match(/^\w+$/))return"Invalid pasted data";const D=n.value.slice(0,t.value).concat(c);return D.slice(0,e.numInputs).forEach(function(A,j){n.value[j]=A}),m(D.slice(0,e.numInputs).length),u()},handleOnKeyDown:l=>{switch(l.keyCode){case x:l.preventDefault(),a(""),O();break;case te:l.preventDefault(),a("");break;case ee:l.preventDefault(),O();break;case ne:l.preventDefault(),g();break}},handleOnBlur:v,changeCodeAtFocus:a,focusInput:m,focusNextInput:g,focusPrevInput:O,handleOnFocus:r,checkFilledAllInputs:u,handleOnChange:l=>{a(l),g()},fillInput:l=>{const c=l.split("");c.length===e.numInputs&&(n.value=c,o("update:value",n.value.join("")),o("on-complete",n.value.join("")))}}}});const ae={style:{display:"flex"}},se={key:0,autocomplete:"off",name:"hidden",type:"text",style:{display:"none"}};function le(e,s,o,t,n,i){const r=V("SingleOtpInput");return h(),y("div",ae,[e.inputType==="password"?(h(),y("input",se)):$("",!0),(h(!0),y(E,null,L(e.numInputs,(v,u)=>(h(),M(r,{key:u,focus:e.activeInput===u,value:e.otp[u],separator:e.separator,"input-type":e.inputType,inputmode:e.inputmode,"input-classes":e.inputClasses,conditionalClass:e.conditionalClass[u],"is-last-child":u===e.numInputs-1,"should-auto-focus":e.shouldAutoFocus,placeholder:e.placeholder[u],"is-disabled":e.isDisabled,onOnChange:e.handleOnChange,onOnKeydown:e.handleOnKeyDown,onOnPaste:e.handleOnPaste,onOnFocus:m=>e.handleOnFocus(u),onOnBlur:e.handleOnBlur},null,8,["focus","value","separator","input-type","inputmode","input-classes","conditionalClass","is-last-child","should-auto-focus","placeholder","is-disabled","onOnChange","onOnKeydown","onOnPaste","onOnFocus","onOnBlur"]))),128))])}F.render=le;var oe=(()=>{const e=F;return e.install=s=>{s.component("Vue3OtpInput",e)},e})();const w=e=>(q("data-v-e2f84332"),e=e(),G(),e),ue={class:"container-lg py-5"},ie={class:"d-md-flex d-none gap-3 align-items-center py-3"},re=w(()=>d("span",{v:"",class:"fw-medium"}," رجوع ",-1)),de={class:"pt-3 pb-5 d-flex justify-content-center align-items-center auth-card"},pe={class:"d-flex flex-column"},ce=w(()=>d("img",{class:"img-fluid w-25",src:U},null,-1)),me=w(()=>d("p",{class:"text-secondary mb-4"},[B(" قم بكاتبة الكود الذي تم إرساله إلى الرقم "),d("span",{class:"text_secondary"}," 96657676002 "),B(" بشكل صحيح لتسجيل الدخول ")],-1)),he={class:"d-flex justify-content-between mb-4 otp-inputs"},fe={__name:"OtpView",setup(e){const s=f(null),o=f(""),t=i=>{console.log("OTP completed: ",i)},n=i=>{console.log("OTP changed: ",i)};return(i,r)=>(h(),y("main",ue,[d("div",ie,[C(z,{class:"pointer"}),re]),d("div",de,[d("div",pe,[ce,C(H,{data:"أدخل الكود ",line:!0,justify:"start",class:"py-0"}),me,d("div",he,[C(T(oe),{ref_key:"otpInput",ref:s,value:o.value,"onUpdate:value":r[0]||(r[0]=v=>o.value=v),"input-classes":"otp-input form-control",separator:"-","num-inputs":6,"should-auto-focus":!0,"input-type":"letter-numeric",placeholder:[" * "," * "," * "," * "," * "," * "],onOnChange:n,onOnComplete:t},null,8,["value"])]),C(W,{label:"تسجيل الدخول ",class:"w-100"})])])]))}},be=R(fe,[["__scopeId","data-v-e2f84332"]]);export{be as default};
